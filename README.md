# RayOS - 学习操作系统 #

## 简介 ##

​	RayOS是一个非常简单的操作系统，由于太过简单甚至不能称之为操作系统，目前只在8051单片机上实现，而且只实现了线程调度（抢占式时间片轮转）、线程同步（信号量）、线程通信（有限）的基本功能，由于8051系列单片机资源性能实在有限，系统时钟周期太长保证不了实时性，太短又会导致调度器本身占用资源太大，所以本项目的实际应用意义不大，只是为了学习操作系统相关知识而动手实践。

## 目录结构 ##

​	项目由Keil4 C51 IDE开发，安装好keil4后，直接打开根目录下的RayOS.uvproj文件即可。

> **os/**
> - RayOSKernel.asm 操作系统核心的汇编文件，实现了上下文切换和上电初始化的相关功能
> - RayOS.c 操作系统核心的C语言文件，实现了操作系统内核的所有功能。
> - RayOS.h 操作系统公用头文件，包含了一些类型定义和API函数声明
> - RayOSConfig.h 操作系统配置头文件，用于裁剪和配置操作系统功能

> **user/**
> - main.c 用户代码入口文件，用户需要在main_user()函数中创建并启动线程
> - isr.c 中断服务函数文件，用户的中断服务函数需要在这里定义，当触发中断时系统会自动保存恢复上下文

